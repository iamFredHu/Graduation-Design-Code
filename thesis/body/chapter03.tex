% !TEX root = ../main.tex

% 中英标题：\chapter{中文标题}[英文标题]
\chapter{带载重的贪婪成本选择算法设计与实现}[Model Solving Scheme Based on Improved Greedy Algorithm]

\section{贪婪式成本选择算法的改进}[Improved algorithms]
相比设计时参考的贪婪成本选择（Greedy Cost Selection,GCS）算法，本算法主要有以下方面的改进：
% \begin{itemize}
%	\item [(1)] 代价函数重新调整了权重，无人机续航时间与兴趣点存活时间之间的关系对于无人机访问兴趣点的先后顺序的影响权重较大，所以提高了该项数据在代价函数中的优先级，
%	同时代价函数中加入了载重相关的因素，尽量防止无人机的路径规划中存在有无人机超重运输的情况；
%	\item [(2)] 优化了路径规划的顺序，同时考虑m架无人机访问兴趣点的代价，再进行线路的规划，可以提高无人机对于兴趣点的有效覆盖率和准时率；
%	\item [(3)] 在无人机返回基地之前，若还有空余续航时间，仍然会访问已超时的兴趣点，从而实现对兴趣点的全覆盖。
% \end{itemize}
\begin{itemize}
	\item [(1)] 对于代价函数进行了权重的重新设计。在原本的问题设计中，没有考虑无人机的载重上限$w$对无人机路径规划的影响。由于无人机载重有限，所以对物资需求量越高的兴趣点，无人机访问该兴趣点的成本也就更高。在代价函数重新设计后，影响代价函数的主要因素有
无人机飞行前往兴趣点所需要的时间、兴趣点的时间敏感性和兴趣点对物资的需求量。由于问题中最需要保证的就是无人机对兴趣点的有效覆盖率$R_e$，因此将兴趣点的时间敏感性放在首要优先级，兴趣点对物资的需求量放在次要优先级，而无人机飞行前往兴趣点所需要的时间也进行适当考虑。
故系数的选择为$\alpha = 10,\beta = 100,\gamma = 50$；
	\item [(2)] 无人机在完成任务后，若还有剩余的续航时间，会尝试访问已经超时的兴趣点，从而实现了对于兴趣点的完全覆盖；
\end{itemize}


由于相较GCS算法，改进后的算法主要增加了对无人机载重情况的考虑，故本文将其命名为带载重的贪婪成本选择算法（Greedy Cost Selection Algorithm With Load,GCSAWL）。

\section{带载重的贪婪成本选择算法的描述}[Algorithm th]
带载重的贪婪成本选择算法属于贪婪式算法，使用GCSAWL对模型进行求解的基本思想是，在一次救援任务中依次为每架无人机生成扫描覆盖路径，每条扫描覆盖路径的起点和终点均为基地$B$。在路径规划过程中，本文设计了一个成本函数来计算访问每个兴趣点的成本。
该成本函数考虑了访问兴趣点所需的时间、该兴趣点的时间敏感性$T_s$、当前无人机的扫描覆盖进度和载重等因素。在路径规划时，本文采用贪婪策略，每次都选择覆盖成本最低的兴趣点，从而为当前无人机获得最佳的扫描路径。


在无人机出发之前，首先需要检查兴趣点的时间敏感性$T_s$是否合理。如果兴趣点$i$的时间敏感性$ts_i$比无人机从基地$B$至该兴趣点的直线飞行时间$\frac{d_{iB}}{v}$小，则说明无论如何无人机都无法在准确时间内对该兴趣点进行访问，
需要重新检查时间敏感性。接下来，逐个对$m$架无人机规划扫描路径$O=\lbrace o_1, o_2, \cdots ,o_m \rbrace$进行规划。第$k$架无人机的初始扫描路径$O_k$为$\emptyset$。变量$T_k$用于记录无人机在起飞后所花费的时间，其初始值
为无人机在上升阶段所花费的时间$T_a$。对于$P$中的每个兴趣点$p_i$，本文首先判断这个兴趣点是否满足兴趣点可访问的三个条件。第一个条件是当无人机飞到兴趣点$p_i$时，该兴趣点仍然存活，也就是说时间在可接受范围$(1+e) \cdot ts_i$内。
第二个条件是，当无人机执行完任务后，剩余的续航里程可以让无人机返回至基地$B$进行充电和维护等作业。第三个条件是无人机在执行任务时不能超重运输。只有当这三个条件同时满足时，本文才说兴趣点$p_i$是可访问的。


然后，本文设计了一个成本函数来评估无人机访问$p_i$的成本：
\begin{equation}
	\varphi = \frac{T_k}{T_{max}}
\end{equation}
\begin{equation}
	C_i = \alpha t_i + \beta (ts_i - T_k)^\varphi + \gamma s_i
\end{equation}

系数$\alpha$反映当前无人机的扫描覆盖任务完成进度。$(ts_i - T_k)$表示兴趣点$p_i$的剩余访问时间，扫描覆盖任务越接近结束，访问兴趣点的优先级越高，剩余的访问时间越短。$s_i$代表的是兴趣点$p_i$所需求的救援物资质量。
$\alpha,\beta,\gamma$是系数，负责调节三个影响因素的权重。在成本函数中，距离当前位置近、剩余可访问时间短且载重要求低的兴趣点访问成本最低，将首先被访问。如果该兴趣点不可访问，则会将$C_i$设置为$+\infty$。计算完所有兴趣点
的成本后，选择访问成本最小的兴趣点$p_j$，然后将$p_j$添加到路径$O_k$中，并将其从$P$中删除，更新计时器$T_k$，并判断兴趣点$p_j$的准时覆盖情况和有效覆盖情况。


如果$p_j$不存在，即当前$P$中所有的兴趣点成本均为$+\infty$，则意味着没有兴趣点可以被继续覆盖，在这种情况下，本文还可以要求无人机在不超重且续航里程足够的情况下，访问较近的已超时但未被访问的兴趣点，实现对所有兴趣点的尽可能的覆盖。
完成任务后，无人机$u_k$应返回基地$B$，当$u_k$返回基地或已经没有剩余的未被访问的兴趣点时，$u_k$的路径规划完成。


最后，在全部$m$架无人机的路径都被规划完成后，根据第二章中提到的公式计算有效覆盖率$R_e$和准时覆盖率$R_o$，算法结束。


算法的伪代码如下：
 
\begin{algorithm}[H]  %其中这里面不能有H不然会报错，不过不影响结果
	\caption{带载重的贪婪成本选择算法}%算法名字
	\LinesNumbered %要求显示行号
	\KwIn{兴趣点的集合$P$，兴趣点对应时间敏感性的集合$T_s$，兴趣点对应的救援物质需求的集合$S$，无人机的集合$U$，基地$B$，无人机的最大续航时间$T_{max}$，无人机的飞行速度$v$，最大载重$w$。}%输入参数
	\KwOut{无人机的飞行路径规划$O$，无人机的准时覆盖率$R_o$和有效覆盖率$R_e$}%输出
	检查$T_s$的值是否符合要求\; %\;用于换行
	\For{$k=1 \rightarrow m$}{
		设置$O_k = \emptyset$、$T_k = 0$和无人机是否完成覆盖的标识符\;
		\While{$P \ne \emptyset ~ and ~ B_0\notin ~  O_k $}{
		\For{$p_i \in P$}{
			计算无人机的直线飞行至下一个兴趣点的飞行时间$t_i$\;
			\eIf{$\enspace T_k + t_i \le (1+e)\cdot ts_i \enspace and \enspace T_{max} - T_k \ge 0 \enspace and \enspace w \prime \le w \enspace$}{
			$\varphi =  T_k / T_{max}$\;
			$C_i = \alpha t_i + \beta (ts_i - T_k)^\varphi + \gamma m_i$\;
		}{
			$C_i = +\infty$\;
		}
		}
		选择C最小的$p_j \in P$\;
		\eIf{$p_j$存在}{
			将$p_j$添加至$O_k$，将$p_j$从$P$中移除\;
			$T_k = T_k + t_j$\;
			判断兴趣点覆盖情况，设置相关标识符\;
		}{
			将$B$添加至$O_k$\;
		}
		
	}
	}
	计算无人机的准时覆盖率$R_o$和有效覆盖率$R_e$\;
	return $O,R_o,R_e$
\end{algorithm}


\section{带载重的贪婪成本选择算法的复杂度分析}[Complexity Analysis of Algorithm]
在带载重的贪婪成本选择算法中，计算$P$中所有兴趣点的访问成本的部分复时间复杂度为$O(n)$，因为$P$有$n$个兴趣点。同样，将兴趣点添加到无人机的扫描路径的过程，其时间复杂度也为$O(n)$。最后，在规划$m$架无人就的扫描路径时，迭代次数为$m$，故
本算法的时间复杂度为$O(mn^2)$。


\section{本章小结}[Brief summary]
在本章中，主要介绍了使用带载重的贪婪成本选择算法解决带时间窗的无人机扫描覆盖问题的基本思想和算法细节。该算法针对贪婪成本选择算法进行了改进，以更符合实际情况和提高算法性能，同时对该算法的复杂性进行了分析。